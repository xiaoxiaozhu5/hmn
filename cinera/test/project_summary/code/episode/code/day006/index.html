<html>
    <head>
        <meta charset="UTF-8">
        <meta name="generator" content="Cinera 0.10.30">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="keywords" content="Programming">

        <link rel="stylesheet" type="text/css" href="https://handmade.network/public/annotations/cinera.css?r=39c76375">
        <link rel="stylesheet" type="text/css" href="https://handmade.network/public/annotations/cinera__hero.css?r=29c3877c">
        <link rel="stylesheet" type="text/css" href="https://handmade.network/public/annotations/cinera_topics.css?r=8e300c51">
        <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_pre.js?r=3e2343d1"></script>
        <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_post.js?r=47438299" defer></script>
        <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_player_pre.js?r=5587322c"></script>

        <meta property="cinera:type" content="entry">
        <meta property="cinera:title" content="Gamepad and Keyboard Input">
        <meta property="cinera:project" content="Handmade Hero">
        <meta property="cinera:project_lineage" content=" / Handmade Hero">
    </head>
    <body>
        <div>
            <!-- __CINERA_MENUS__ -->
            <div class="cinera">
            <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_clear.js?r=00000000"></script>
            <div class="cineraMenus hero">
            <span class="episode_name">Gamepad and Keyboard Input</span>
            <div class="menu views">
                <div class="view" data-id="theatre" title="Theatre mode">&#127917;</div>
                <div class="views_container">
                    <div class="view" data-id="super" title="SUPERtheatre mode">&#127967;</div>
                </div>
            </div>
            <div class="menu link">
                <span>&#128279;</span>
                <div class="link_container">
                    <div id="cineraLinkMode">Link to: current timestamp</div>
                    <textarea title="Click to copy to clipboard" id="cineraLink" readonly spellcheck="false"></textarea>
                </div>
            </div>
            <div class="menu credits">
                <span>Credits</span>
                <div class="credits_container">
                    <span class="credit">
                        <a class="person" href="https://handmadehero.org/" target="_blank">
                            <div class="role">Host</div>
                            <div class="name">Casey Muratori</div>
                        </a>
                        <a class="support" href="https://handmadehero.org/fund" target="_blank"><img src="https://handmade.network/public/annotations/cinera_sprite_sendowl.png?r=6899f6b0"></a>
                    </span>
                    <span class="credit">
                        <div class="person">
                            <div class="role">Indexer</div>
                            <div class="name">Jace Bennett</div>
                        </div>
                    </span>
                    <span class="credit">
                        <a class="person" href="https://miblo.net/" target="_blank">
                            <div class="role">Indexer</div>
                            <div class="name">Matt Mascarenhas</div>
                        </a>
                        <a class="support" href="https://miblo.net/cinera#pledge" target="_blank"><img src="https://handmade.network/public/annotations/cinera_sprite_sendowl.png?r=6899f6b0"></a>
                    </span>
                    <span class="credit">
                        <a class="person" href="https://lowtideproductions.com/" target="_blank">
                            <div class="role">Indexer</div>
                            <div class="name">Matthew VanDevander</div>
                        </a>
                        <a class="support" href="https://www.patreon.com/mv" target="_blank"><div class="cineraSprite" data-sprite-width=32 data-sprite-height=16 data-tile-width=16 data-tile-height=16 data-x-light=0 data-x-dark=16 data-y-normal=0 data-y-focused=0 data-y-disabled=0 data-src="https://handmade.network/public/annotations/cinera_sprite_patreon.png?r=5df50e2b"></div></a>
                    </span>
                </div>
            </div>
            <div class="cineraHelp">
                <span>?</span>
                <div class="help_container">
                    <span class="help_key">?</span><h1>Keyboard Navigation</h1>

                    <h2>Global Keys</h2>
                    <span class="help_key">[</span>, <span class="help_key">&lt;</span> / <span class="help_key">]</span>, <span class="help_key">&gt;</span> <span class="help_text">Jump to previous / next episode</span><br>
                    <span class="help_key">W</span>, <span class="help_key">K</span>, <span class="help_key">P</span> / <span class="help_key">S</span>, <span class="help_key">J</span>, <span class="help_key">N</span> <span class="help_text">Jump to previous / next timestamp</span><br>
                    <span class="help_key">t</span> / <span class="help_key">T</span> <span class="help_text">Toggle theatre / SUPERtheatre mode</span><br>
                    <span class="help_key unavailable">V</span> <span class="help_text unavailable">Revert filter to original state</span> <span class="help_key">Y</span> <span class="help_text">Select link (requires manual Ctrl-c)</span>

                    <h2>Menu toggling</h2>
                    <span class="help_key unavailable">q</span> <span class="help_text unavailable">Quotes</span>
                    <span class="help_key unavailable">r</span> <span class="help_text unavailable">References</span>
                    <span class="help_key unavailable">f</span> <span class="help_text unavailable">Filter</span>
                    <span class="help_key">y</span> <span class="help_text">Link</span>
                    <span class="help_key">c</span> <span class="help_text">Credits</span>

                    <h2>In-Menu and <span class="help_title_key help_custom_index">Index</span> Controls</h2>
                    <div class="help_paragraph">
                        <div class="key_block">
                            <div>
                                <span class="help_key">a</span>
                            </div>
                            <div>
                                <span class="help_key help_custom_index">w</span><br>
                                <span class="help_key help_custom_index">s</span>
                            </div>
                            <div>
                                <span class="help_key">d</span>
                            </div>
                        </div>
                        <div class="key_block">
                            <span class="help_key">h</span>
                            <span class="help_key help_custom_index">j</span>
                            <span class="help_key help_custom_index">k</span>
                            <span class="help_key">l</span>
                        </div>
                        <div class="key_block">
                            <div>
                                <span class="help_key">←</span>
                            </div>
                            <div>
                                <span class="help_key">↑</span><br>
                                <span class="help_key">↓</span>
                            </div>
                            <div>
                                <span class="help_key">→</span>
                            </div>
                        </div>
                    </div><br>
                    <div class="help_paragraph">
                        <span class="help_key help_custom_index">Esc</span> <span class="help_text">Close menu / unfocus timestamp</span>
                    </div>
                    <br>
                    <h2><span class="unavailable">Quotes and References Menus and</span> Index</h2>
                    <span class="help_key word">Enter</span> <span class="help_text">Jump to timestamp</span><br>

                    <h2><span class="unavailable">Quotes, References and</span> Credits Menus</h2>                    <span class="help_key">o</span> <span class="help_text">Open URL (in new tab)</span>

                    <h2><span class="unavailable">Filter Menu</span></h2>
                    <span class="help_key unavailable">x</span>, <span class="help_key word unavailable">Space</span> <span class="help_text unavailable">Toggle category and focus next</span><br>
                    <span class="help_key unavailable">X</span>, <span class="help_key word modifier unavailable">Shift</span><span class="help_key word unavailable">Space</span> <span class="help_text unavailable">Toggle category and focus previous</span><br>
                    <span class="help_key unavailable">v</span> <span class="help_text unavailable">Invert topics / media as per focus</span>

                    <h2><span class="unavailable">Filter and</span> Link Menus</h2>
                    <span class="help_key">z</span> <span class="help_text">Toggle <span class="help_text unavailable">filter /</span> linking mode</span>

                    <h2>Credits Menu</h2>
                    <span class="help_key word">Enter</span> <span class="help_text">Open URL (in new tab)</span><br>
                </div>
            </div>
        </div>
        <script src="https://www.youtube.com/iframe_api"></script>
        <div class="cineraPlayerContainer">
            <div class="video_container" data-platform="youtube" data-videoId="J3y1x54vyIQ"></div>
            <div class="markers_container hero">
                <a class="episodeMarker prev" href="https://hero.handmade.network/episode/code/day005/"><div>&#9195;</div><div>Previous: 'Windows Graphics Review'</div><div>&#9195;</div></a>
            <div class="markers">
                <div data-timestamp="51.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">0:51</span>Getting input from a gamepad: XInput</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">0:51</span>Getting input from a gamepad: XInput</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">0:51</span>Getting input from a gamepad: XInput</div>
                    </div>
                </div>
                <div data-timestamp="200.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">3:20</span>Using XInput in the codebase</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">3:20</span>Using XInput in the codebase</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">3:20</span>Using XInput in the codebase</div>
                    </div>
                </div>
                <div data-timestamp="386.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">6:26</span>A look at the XInput API more in depth.</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">6:26</span>A look at the XInput API more in depth.</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">6:26</span>A look at the XInput API more in depth.</div>
                    </div>
                </div>
                <div data-timestamp="460.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">7:40</span>Programming using XInput API</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">7:40</span>Programming using XInput API</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">7:40</span>Programming using XInput API</div>
                    </div>
                </div>
                <div data-timestamp="549.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">9:09</span>Discussing the controller&#39;s state: using XINPUT_STATE struct</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">9:09</span>Discussing the controller&#39;s state: using XINPUT_STATE struct</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">9:09</span>Discussing the controller&#39;s state: using XINPUT_STATE struct</div>
                    </div>
                </div>
                <div data-timestamp="690.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">11:30</span>Using XINPUT_GAMEPAD struct</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">11:30</span>Using XINPUT_GAMEPAD struct</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">11:30</span>Using XINPUT_GAMEPAD struct</div>
                    </div>
                </div>
                <div data-timestamp="1017.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">16:57</span>Handling unresolved external symbol XInputGetState</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">16:57</span>Handling unresolved external symbol XInputGetState</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">16:57</span>Handling unresolved external symbol XInputGetState</div>
                    </div>
                </div>
                <div data-timestamp="1563.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">26:03</span>Discussing access violations</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">26:03</span>Discussing access violations</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">26:03</span>Discussing access violations</div>
                    </div>
                </div>
                <div data-timestamp="1612.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">26:52</span>Safeguarding against access violations</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">26:52</span>Safeguarding against access violations</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">26:52</span>Safeguarding against access violations</div>
                    </div>
                </div>
                <div data-timestamp="1910.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">31:50</span>Defining and implementing Win32LoadXinput function</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">31:50</span>Defining and implementing Win32LoadXinput function</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">31:50</span>Defining and implementing Win32LoadXinput function</div>
                    </div>
                </div>
                <div data-timestamp="2242.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">37:22</span>Playing with the X and Y offset</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">37:22</span>Playing with the X and Y offset</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">37:22</span>Playing with the X and Y offset</div>
                    </div>
                </div>
                <div data-timestamp="2280.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">38:00</span>Casey looking for his gamepad</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">38:00</span>Casey looking for his gamepad</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">38:00</span>Casey looking for his gamepad</div>
                    </div>
                </div>
                <div data-timestamp="2330.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">38:50</span>Casey showcases pink controller</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">38:50</span>Casey showcases pink controller</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">38:50</span>Casey showcases pink controller</div>
                    </div>
                </div>
                <div data-timestamp="2469.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">41:09</span>XINPUT_VIBRATION</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">41:09</span>XINPUT_VIBRATION</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">41:09</span>XINPUT_VIBRATION</div>
                    </div>
                </div>
                <div data-timestamp="2585.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">43:05</span>#milkhit</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">43:05</span>#milkhit</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">43:05</span>#milkhit</div>
                    </div>
                </div>
                <div data-timestamp="2815.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">46:55</span>Testingand handling button/key presses</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">46:55</span>Testingand handling button/key presses</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">46:55</span>Testingand handling button/key presses</div>
                    </div>
                </div>
                <div data-timestamp="3310.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">55:10</span>(Extra) ANSI String Handling</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">55:10</span>(Extra) ANSI String Handling</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">55:10</span>(Extra) ANSI String Handling</div>
                    </div>
                </div>
                <div data-timestamp="3370.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">56:10</span>(Extra) Not passing something by value anymore</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">56:10</span>(Extra) Not passing something by value anymore</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">56:10</span>(Extra) Not passing something by value anymore</div>
                    </div>
                </div>
                <div data-timestamp="3490.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">58:10</span>Summary and things to come before beginning Q&amp;A</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">58:10</span>Summary and things to come before beginning Q&amp;A</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">58:10</span>Summary and things to come before beginning Q&amp;A</div>
                    </div>
                </div>
                <div data-timestamp="3548.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">59:08</span>LParam 30 is always up for WM_KEYUP</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">59:08</span>LParam 30 is always up for WM_KEYUP</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">59:08</span>LParam 30 is always up for WM_KEYUP</div>
                    </div>
                </div>
                <div data-timestamp="3597.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">59:57</span>Why uppercase variable names?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">59:57</span>Why uppercase variable names?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">59:57</span>Why uppercase variable names?</div>
                    </div>
                </div>
                <div data-timestamp="3621.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:00:21</span>Can you explain your macro and referencing XInput functions again?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:00:21</span>Can you explain your macro and referencing XInput functions again?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:00:21</span>Can you explain your macro and referencing XInput functions again?</div>
                    </div>
                </div>
                <div data-timestamp="3795.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:03:15</span>What&#39;s the size when copying becomes problematic for a struct?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:03:15</span>What&#39;s the size when copying becomes problematic for a struct?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:03:15</span>What&#39;s the size when copying becomes problematic for a struct?</div>
                    </div>
                </div>
                <div data-timestamp="3867.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:04:27</span>About (premature) optimisation</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:04:27</span>About (premature) optimisation</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:04:27</span>About (premature) optimisation</div>
                    </div>
                </div>
                <div data-timestamp="4107.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:08:27</span>How does the linker find the XInput DLL on the users machine? [...] Can we distribute the DLL?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:08:27</span>How does the linker find the XInput DLL on the users machine? [...] Can we distribute the DLL?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:08:27</span>How does the linker find the XInput DLL on the users machine? [...] Can we distribute the DLL?</div>
                    </div>
                </div>
                <div data-timestamp="4372.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:12:52</span>Is [the dynamic linker] allowed to link XInput in compile time?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:12:52</span>Is [the dynamic linker] allowed to link XInput in compile time?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:12:52</span>Is [the dynamic linker] allowed to link XInput in compile time?</div>
                    </div>
                </div>
                <div data-timestamp="4442.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:14:02</span>Why you chose an if-else cascade for key input instead of switch statement? It&#39;s up for grabs.</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:14:02</span>Why you chose an if-else cascade for key input instead of switch statement? It&#39;s up for grabs.</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:14:02</span>Why you chose an if-else cascade for key input instead of switch statement? It&#39;s up for grabs.</div>
                    </div>
                </div>
                <div data-timestamp="4513.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:15:13</span>How do you know the XInput stub things work without testing it on XP computer without XInput installed?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:15:13</span>How do you know the XInput stub things work without testing it on XP computer without XInput installed?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:15:13</span>How do you know the XInput stub things work without testing it on XP computer without XInput installed?</div>
                    </div>
                </div>
                <div data-timestamp="4623.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:17:03</span>Is it a waste of time to check if GetProcAddress() returns zero?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:17:03</span>Is it a waste of time to check if GetProcAddress() returns zero?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:17:03</span>Is it a waste of time to check if GetProcAddress() returns zero?</div>
                    </div>
                </div>
                <div data-timestamp="4752.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:19:12</span>Modify code to use the controller stick</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:19:12</span>Modify code to use the controller stick</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:19:12</span>Modify code to use the controller stick</div>
                    </div>
                </div>
                <div data-timestamp="4934.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:22:14</span>Where do the WParam and LParam come from?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:22:14</span>Where do the WParam and LParam come from?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:22:14</span>Where do the WParam and LParam come from?</div>
                    </div>
                </div>
                <div data-timestamp="5057.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:24:17</span>Why did MS decide to use link and import library instead of true dynamic linking?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:24:17</span>Why did MS decide to use link and import library instead of true dynamic linking?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:24:17</span>Why did MS decide to use link and import library instead of true dynamic linking?</div>
                    </div>
                </div>
                <div data-timestamp="5113.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:25:13</span>When are we going to get <span class="member" data-hue="277" data-saturation="88%">naysayer88</span> and <span class="member" data-hue="125" data-saturation="81%">cmuratori</span> combination game?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:25:13</span>When are we going to get <span class="member" data-hue="277" data-saturation="88%">naysayer88</span> and <span class="member" data-hue="125" data-saturation="81%">cmuratori</span> combination game?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:25:13</span>When are we going to get <span class="member" data-hue="277" data-saturation="88%">naysayer88</span> and <span class="member" data-hue="125" data-saturation="81%">cmuratori</span> combination game?</div>
                    </div>
                </div>
                <div data-timestamp="5179.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:26:19</span>On Unix you don&#39;t need to link to a .so file at all to use a .so file where as on MS platforms you need a .lib file</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:26:19</span>On Unix you don&#39;t need to link to a .so file at all to use a .so file where as on MS platforms you need a .lib file</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:26:19</span>On Unix you don&#39;t need to link to a .so file at all to use a .so file where as on MS platforms you need a .lib file</div>
                    </div>
                </div>
                <div data-timestamp="5253.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:27:33</span>In the far future will you use DirectX or OpenGL or what?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:27:33</span>In the far future will you use DirectX or OpenGL or what?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:27:33</span>In the far future will you use DirectX or OpenGL or what?</div>
                    </div>
                </div>
                <div data-timestamp="5285.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:28:05</span>We will be drawing the whole screen every frame.</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:28:05</span>We will be drawing the whole screen every frame.</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:28:05</span>We will be drawing the whole screen every frame.</div>
                    </div>
                </div>
                <div data-timestamp="5327.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:28:47</span>Why does Valgrind make it look so scary when you don&#39;t free()?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:28:47</span>Why does Valgrind make it look so scary when you don&#39;t free()?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:28:47</span>Why does Valgrind make it look so scary when you don&#39;t free()?</div>
                    </div>
                </div>
                <div data-timestamp="5388.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:29:48</span>It looks like WParam and LParam are 32bit on XP</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:29:48</span>It looks like WParam and LParam are 32bit on XP</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:29:48</span>It looks like WParam and LParam are 32bit on XP</div>
                    </div>
                </div>
                <div data-timestamp="5412.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:30:12</span>Is it possible to keep your framerate consistent while dragging the window around? Doing repaint on WM_MOVE is slow.</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:30:12</span>Is it possible to keep your framerate consistent while dragging the window around? Doing repaint on WM_MOVE is slow.</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:30:12</span>Is it possible to keep your framerate consistent while dragging the window around? Doing repaint on WM_MOVE is slow.</div>
                    </div>
                </div>
            </div>
                <a class="episodeMarker next" href="https://hero.handmade.network/episode/code/day007/"><div>&#9196;</div><div>Next: 'Initializing DirectSound'</div><div>&#9196;</div></a>
            </div>
        </div>
        </div>
    <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_player_post.js?r=285016ab"></script>
        </div>
        <!-- __CINERA_SCRIPT__ -->

        <article id="video-notes">
            <h1>Gamepad and Keyboard Input</h1>
            <h3 id="so-what-s-with-all-that-define-and-typedef-mumbo-jumbo-there-">So what&#39;s with all that &quot;#define&quot; and &quot;typedef&quot; mumbo-jumbo there?</h3>
            <p>You may have found yourself confused when looking at this code:</p>
<pre><code>#define X_INPUT_GET_STATE(name) DWORD WINAPI name(DWORD dwUserIndex, XINPUT_STATE *pState)
typedef X_INPUT_GET_STATE(x_input_get_state);
X_INPUT_GET_STATE(XInputGetStateStub)
{
        return(0);
}
global_variable x_input_get_state *XInputGetState_ = XInputGetStateStub;
#define XInputGetState XInputGetState_
</code></pre><p>What on God&#39;s green earth is happening here? Well, don&#39;t despair. It&#39;s really quite simple, we just need to unwrap a few things and break it down line by line.</p>
<pre><code>#define X_INPUT_GET_STATE(name) DWORD WINAPI name(DWORD dwUserIndex, XINPUT_STATE *pState)
</code></pre><p>In C (as well as C++ and Objective C), the first step of the compilation process is a code transformation pass by the preprocessor. As we have covered previously in the series, any command which begins with a &quot;#&quot; is what is known as a preprocessor directive. This is just a command which will tell the preprocessor to do something, such as #include a file. In this case, &quot;#define&quot; is a directive which creates a macro. A macro can be thought of as a code substitution, anytime the processor finds the macro used in your code, it will swap it out for whatever you defined.</p>
<h2 id="the-two-types-of-macros">The two types of macros</h2>
<p>There are two types of macros, the first type is very simple and defines a constant value:</p>
<pre><code>#define PI 3.14159265359
</code></pre><p>This macro will cause the preprocessor to convert any instances of &quot;PI&quot; in the code directly into &quot;3.14159265359&quot;. If we break it down a bit, on the left hand side we have what is called the identifier (&quot;PI&quot;), and on the right hand side we have what is known as the token string (&quot;3.14159265359&quot;). The preprocessor searches the code for the identifier, and replaces it with the token string. This means that the literal text &quot;PI&quot; will no longer appear in our code, having been replaced with &quot;3.14159265359&quot;. This can be useful for constant values that we may want to use repeatedly, but not type in full all the time. Note that the preprocessor will not convert PI if it appears in a comment or as part of a longer identifier such as &quot;PieceOfPI&quot;.</p>
<p>So let&#39;s go back to the macro we were looking at earlier. </p>
<pre><code>#define X_INPUT_GET_STATE(name) DWORD WINAPI name(DWORD dwUserIndex, XINPUT_STATE *pState)
</code></pre><p>It is somewhat more complex and appears to have a function definition on the right for a function called &quot;name&quot;. This is the second type of macro, which uses a token string as part of it&#39;s definition.
As a simpler, but somewhat different example:</p>
<pre><code>#define ADD(argument1, argument2) argument1 + argument2
</code></pre><p>Looking at this, we can see that it can be broken down into two parts just the same as the previous macro. First, on the left side we have the identifier &quot;ADD(argument1, argument2)&quot;. This works similarly to the first kind of macro, but because we have written it like a function, the preprocessor will save whatever it finds in place of &quot;argument1&quot; and &quot;argument2&quot;, and then plug those in for where they were found in the token string.</p>
<p>For example, if later on in the code we were to type:</p>
<pre><code>int c = ADD(a,b);
</code></pre><p>Our macro would expand this out to:</p>
<pre><code>int c = a + b;
</code></pre><p>So, again we will go back to our original macro, but this time we are going to pair it with its first use:</p>
<pre><code>#define X_INPUT_GET_STATE(name) DWORD WINAPI name(DWORD dwUserIndex, XINPUT_STATE *pState)
typedef X_INPUT_GET_STATE(x_input_get_state);
</code></pre><p>Based on what we learned earlier we can see that the second line will expand out into the following:</p>
<pre><code>typedef DWORD WINAPI x_input_get_state(DWORD dwUserIndex, XINPUT_STATE *pState);
</code></pre><h2 id="what-s-a-typedef-">What&#39;s a typedef?</h2>
<p>So that&#39;s easy enough to see, but what does &#39;typedef&#39; mean?</p>
<p>In C, typedef declares a different name for a type. This can almost be thought of as similar to #define, but it is limited to type names only and is performed by the compiler instead of the preprocessor.</p>
<p>As a basic example, if we were to look at the following code:</p>
<pre><code>typedef char CHARACTER;
CHARACTER x;
</code></pre><p>The compiler will treat the type of x as though it were &#39;char.&#39; Why would we want to do this? Well, because declaring our own types allows us to make use of the compilers strict type checking. This means that if we were to declare a function which took a CHARACTER as the type of one of it&#39;s arguments then we would not be able to pass it a char without the compiler warning us about it, even though a CHARACTER was defined as a char and they are both signed one byte values.</p>
<pre><code>typedef DWORD WINAPI x_input_get_state(DWORD dwUserIndex, XINPUT_STATE *pState);
</code></pre><p>But in the Handmade Hero code, we are using typedef with a function declaration. This declares a function signature as a type. It is important to understand that although we can use that type to declare a function like this:</p>
<pre><code>x_input_get_state _XInputGetState()
</code></pre><p>Due to the rules of C, we are not allowed to then go on to define the function as follows:</p>
<pre><code>//INVALID C CODE FOLLOWS
x_input_get_state _XInputGetState()
{
    //Do some things.
}
</code></pre><p>We can define a function using our typedef and also declare the same function by using the original function type information, however, this makes the typedef itself unnecessary.</p>
<h2 id="using-typedef-for-function-pointers">Using typedef for function pointers</h2>
<p>So why are we using a typedef with a function declaration here? Because we are planning on using it to create a function pointer. A function pointer is just what it sounds like, a pointer to a function. The main benefit of function pointers is that they can be treated like variables, that is, they can be reassigned or passed as arguments.</p>
<p>So this is how we would use our &quot;x_input_get_state&quot; typedef to declare a function pointer:</p>
<pre><code>x_input_get_state *PointerToXInputGetStateFunction;
</code></pre><p>We can then assign that pointer to any function which matches the signature of x_input_get_state:</p>
<pre><code>typedef DWORD WINAPI x_input_get_state(DWORD dwUserIndex, XINPUT_STATE *pState);
DWORD XInputGetStateStub(DWORD dwUserIndex, XINPUT_STATE *pState);
XInputGetStateStub
{
        return(0);
}
global_variable x_input_get_state *XInputGetState_ = XInputGetStateStub;
</code></pre><p>Which if we were to unwrap our macros from the original code, is almost exactly what we would have:</p>
<pre><code>#define X_INPUT_GET_STATE(name) DWORD WINAPI name(DWORD dwUserIndex, XINPUT_STATE *pState)
typedef X_INPUT_GET_STATE(x_input_get_state);
X_INPUT_GET_STATE(XInputGetStateStub)
{
        return(0);
}
global_variable x_input_get_state *XInputGetState_ = XInputGetStateStub;
</code></pre><p>Now all we have left is the last line:</p>
<pre><code>#define XInputGetState XInputGetState_
</code></pre><p>This is another simple macro which will substitute &quot;XInputGetState_&quot; for &quot;XInputGetState&quot; any time we use it in the code. We do this because XInputGetState is a function that has already been declared in xinput.h, and C does not allow us to declare functions multiple times. However, by using the preprocessor, we can type out our code as though we were just using XInputGetState we are actually using a function pointer which will either point to &#39;XInputGetStateStub&#39; in the case that we are unable to dynamically load in the XInput library, or will point to the correct &#39;XInputGetState&#39; function as defined by Microsoft in the case that we can load it.</p>
<p>Hope that&#39;s helped clear some things up for you. Happy Heroing!</p>
        </article>
    </body>
</html>
