<html>
    <head>
        <meta charset="UTF-8">
        <meta name="generator" content="Cinera 0.10.30">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="keywords" content="Chat Comment, Programming, Speech">

        <link rel="stylesheet" type="text/css" href="https://handmade.network/public/annotations/cinera.css?r=39c76375">
        <link rel="stylesheet" type="text/css" href="https://handmade.network/public/annotations/cinera__hero.css?r=29c3877c">
        <link rel="stylesheet" type="text/css" href="https://handmade.network/public/annotations/cinera_topics.css?r=8e300c51">
        <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_pre.js?r=3e2343d1"></script>
        <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_player_pre.js?r=5587322c"></script>

        <meta property="cinera:type" content="entry">
        <meta property="cinera:title" content="Memory Barriers and Semaphores">
        <meta property="cinera:project" content="Handmade Hero">
        <meta property="cinera:project_lineage" content=" / Handmade Hero">
    </head>
    <body>
        <div>
            <!-- __CINERA_MENUS__ -->
            <div class="cinera">
            <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_clear.js?r=00000000"></script>
            <div class="cineraMenus hero">
            <span class="episode_name">Memory Barriers and Semaphores</span>
            <div class="menu filter">
                <span><img src="https://handmade.network/public/annotations/cinera_icon_filter.png?r=3d831e54"></span>
                <div class="filter_container">
                   <div class="filter_header">
                       <div class="filter_mode exclusive">Filter mode: </div>
                       <div class="filter_titles">
                           <div class="filter_title">Topics</div>
                           <div class="filter_title">Media</div>
                       </div>
                   </div>
                   <div class="filters">
                        <div class="filter_topics">
                            <div title="Timestamps that don't fit into the above topic(s) may be filtered using this pseudo-topic" class="filter_content nullTopic">
                                <span class="icon category nullTopic"></span><span class="cineraText">(null topic)</span>
                            </div>
                        </div>
                        <div class="filter_media">
                            <div class="filter_content authored">
                                <span class="icon">&#128490;</span><span class="cineraText">Chat Comment</span>
                            </div>
                            <div class="filter_content programming">
                                <span class="icon">&#128430;</span><span class="cineraText">Programming</span><span class="cineraDefaultMediumIndicator" title="Default medium
Timestamps lacking a media icon are in this medium">&#128969;</span>
                            </div>
                            <div class="filter_content speech">
                                <span class="icon">&#128489;</span><span class="cineraText">Speech</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="menu views">
                <div class="view" data-id="theatre" title="Theatre mode">&#127917;</div>
                <div class="views_container">
                    <div class="view" data-id="super" title="SUPERtheatre mode">&#127967;</div>
                </div>
            </div>
            <div class="menu link">
                <span>&#128279;</span>
                <div class="link_container">
                    <div id="cineraLinkMode">Link to: current timestamp</div>
                    <textarea title="Click to copy to clipboard" id="cineraLink" readonly spellcheck="false"></textarea>
                </div>
            </div>
            <div class="menu credits">
                <span>Credits</span>
                <div class="credits_container">
                    <span class="credit">
                        <a class="person" href="https://handmadehero.org/" target="_blank">
                            <div class="role">Host</div>
                            <div class="name">Casey Muratori</div>
                        </a>
                        <a class="support" href="https://handmadehero.org/fund" target="_blank"><img src="https://handmade.network/public/annotations/cinera_sprite_sendowl.png?r=6899f6b0"></a>
                    </span>
                    <span class="credit">
                        <div class="person">
                            <div class="role">Indexer</div>
                            <div class="name">Dustin Specht</div>
                        </div>
                    </span>
                    <span class="credit">
                        <a class="person" href="http://chronal.net/" target="_blank">
                            <div class="role">Indexer</div>
                            <div class="name">Andrew Chronister</div>
                        </a>
                    </span>
                    <span class="credit">
                        <div class="person">
                            <div class="role">Indexer</div>
                            <div class="name">Jay Waggle</div>
                        </div>
                    </span>
                    <span class="credit">
                        <a class="person" href="https://miblo.net/" target="_blank">
                            <div class="role">Indexer</div>
                            <div class="name">Matt Mascarenhas</div>
                        </a>
                        <a class="support" href="https://miblo.net/cinera#pledge" target="_blank"><img src="https://handmade.network/public/annotations/cinera_sprite_sendowl.png?r=6899f6b0"></a>
                    </span>
                </div>
            </div>
            <div class="cineraHelp">
                <span>?</span>
                <div class="help_container">
                    <span class="help_key">?</span><h1>Keyboard Navigation</h1>

                    <h2>Global Keys</h2>
                    <span class="help_key">[</span>, <span class="help_key">&lt;</span> / <span class="help_key">]</span>, <span class="help_key">&gt;</span> <span class="help_text">Jump to previous / next episode</span><br>
                    <span class="help_key">W</span>, <span class="help_key">K</span>, <span class="help_key">P</span> / <span class="help_key">S</span>, <span class="help_key">J</span>, <span class="help_key">N</span> <span class="help_text">Jump to previous / next timestamp</span><br>
                    <span class="help_key">t</span> / <span class="help_key">T</span> <span class="help_text">Toggle theatre / SUPERtheatre mode</span><br>
                    <span class="help_key">V</span> <span class="help_text">Revert filter to original state</span> <span class="help_key">Y</span> <span class="help_text">Select link (requires manual Ctrl-c)</span>

                    <h2>Menu toggling</h2>
                    <span class="help_key unavailable">q</span> <span class="help_text unavailable">Quotes</span>
                    <span class="help_key unavailable">r</span> <span class="help_text unavailable">References</span>
                    <span class="help_key">f</span> <span class="help_text">Filter</span>
                    <span class="help_key">y</span> <span class="help_text">Link</span>
                    <span class="help_key">c</span> <span class="help_text">Credits</span>

                    <h2>In-Menu and <span class="help_title_key help_custom_index">Index</span> Controls</h2>
                    <div class="help_paragraph">
                        <div class="key_block">
                            <div>
                                <span class="help_key">a</span>
                            </div>
                            <div>
                                <span class="help_key help_custom_index">w</span><br>
                                <span class="help_key help_custom_index">s</span>
                            </div>
                            <div>
                                <span class="help_key">d</span>
                            </div>
                        </div>
                        <div class="key_block">
                            <span class="help_key">h</span>
                            <span class="help_key help_custom_index">j</span>
                            <span class="help_key help_custom_index">k</span>
                            <span class="help_key">l</span>
                        </div>
                        <div class="key_block">
                            <div>
                                <span class="help_key">←</span>
                            </div>
                            <div>
                                <span class="help_key">↑</span><br>
                                <span class="help_key">↓</span>
                            </div>
                            <div>
                                <span class="help_key">→</span>
                            </div>
                        </div>
                    </div><br>
                    <div class="help_paragraph">
                        <span class="help_key help_custom_index">Esc</span> <span class="help_text">Close menu / unfocus timestamp</span>
                    </div>
                    <br>
                    <h2><span class="unavailable">Quotes and References Menus and</span> Index</h2>
                    <span class="help_key word">Enter</span> <span class="help_text">Jump to timestamp</span><br>

                    <h2><span class="unavailable">Quotes, References and</span> Credits Menus</h2>                    <span class="help_key">o</span> <span class="help_text">Open URL (in new tab)</span>

                    <h2>Filter Menu</h2>
                    <span class="help_key">x</span>, <span class="help_key word">Space</span> <span class="help_text">Toggle category and focus next</span><br>
                    <span class="help_key">X</span>, <span class="help_key word modifier">Shift</span><span class="help_key word">Space</span> <span class="help_text">Toggle category and focus previous</span><br>
                    <span class="help_key">v</span> <span class="help_text">Invert topics / media as per focus</span>

                    <h2>Filter and Link Menus</h2>
                    <span class="help_key">z</span> <span class="help_text">Toggle filter / linking mode</span>

                    <h2>Credits Menu</h2>
                    <span class="help_key word">Enter</span> <span class="help_text">Open URL (in new tab)</span><br>
                </div>
            </div>
        </div>
        <script src="https://www.youtube.com/iframe_api"></script>
        <div class="cineraPlayerContainer">
            <div class="video_container" data-platform="youtube" data-videoId="W_szrzjYuvs"></div>
            <div class="markers_container hero">
                <a class="episodeMarker prev" href="https://hero.handmade.network/episode/code/day122/"><div>&#9195;</div><div>Previous: 'Introduction to Multithreading'</div><div>&#9195;</div></a>
            <div class="markers">
                <div data-timestamp="35.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">0:35</span>Recap/Review</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">0:35</span>Recap/Review</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">0:35</span>Recap/Review</div>
                    </div>
                </div>
                <div data-timestamp="165.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">2:45</span>Yesterday&#39;s TODOs</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">2:45</span>Yesterday&#39;s TODOs</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">2:45</span>Yesterday&#39;s TODOs</div>
                    </div>
                </div>
                <div data-timestamp="240.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">4:00</span>TODO 1: Ordering of writes</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">4:00</span>TODO 1: Ordering of writes</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">4:00</span>TODO 1: Ordering of writes</div>
                    </div>
                </div>
                <div data-timestamp="393.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">6:33</span>CompletePastWritesBeforeFutureWrites</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">6:33</span>CompletePastWritesBeforeFutureWrites</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">6:33</span>CompletePastWritesBeforeFutureWrites</div>
                    </div>
                </div>
                <div data-timestamp="622.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">10:22</span>Looking up memory fences</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">10:22</span>Looking up memory fences</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">10:22</span>Looking up memory fences</div>
                    </div>
                </div>
                <div data-timestamp="730.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">12:10</span>Venturing into Visual Studio&#39;s include folder</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">12:10</span>Venturing into Visual Studio&#39;s include folder</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">12:10</span>Venturing into Visual Studio&#39;s include folder</div>
                    </div>
                </div>
                <div data-timestamp="800.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">13:20</span>Putting in an actual CPU barrier</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">13:20</span>Putting in an actual CPU barrier</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">13:20</span>Putting in an actual CPU barrier</div>
                    </div>
                </div>
                <div data-timestamp="872.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">14:32</span>Where do we go from here?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">14:32</span>Where do we go from here?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">14:32</span>Where do we go from here?</div>
                    </div>
                </div>
                <div data-timestamp="900.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">15:00</span>Volatile introduction</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">15:00</span>Volatile introduction</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">15:00</span>Volatile introduction</div>
                    </div>
                </div>
                <div data-timestamp="1123.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">18:43</span>TODO 2: Interlocked writes</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">18:43</span>TODO 2: Interlocked writes</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">18:43</span>TODO 2: Interlocked writes</div>
                    </div>
                </div>
                <div data-timestamp="1210.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">20:10</span>Looking up InterlockedIncrement</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">20:10</span>Looking up InterlockedIncrement</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">20:10</span>Looking up InterlockedIncrement</div>
                    </div>
                </div>
                <div data-timestamp="1297.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">21:37</span>TODO 3: Already taken care of by volatile</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">21:37</span>TODO 3: Already taken care of by volatile</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">21:37</span>TODO 3: Already taken care of by volatile</div>
                    </div>
                </div>
                <div data-timestamp="1314.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">21:54</span>TODO 4: Ordering of reads</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">21:54</span>TODO 4: Ordering of reads</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">21:54</span>TODO 4: Ordering of reads</div>
                    </div>
                </div>
                <div data-timestamp="1404.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">23:24</span>Checking our work</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">23:24</span>Checking our work</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">23:24</span>Checking our work</div>
                    </div>
                </div>
                <div data-timestamp="1460.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">24:20</span>NB: Don&#39;t use all 16 hyperthreads!</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">24:20</span>NB: Don&#39;t use all 16 hyperthreads!</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">24:20</span>NB: Don&#39;t use all 16 hyperthreads!</div>
                    </div>
                </div>
                <div data-timestamp="1545.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">25:45</span>Job completion</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">25:45</span>Job completion</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">25:45</span>Job completion</div>
                    </div>
                </div>
                <div data-timestamp="1720.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">28:40</span>Waiting for all the threads to complete</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">28:40</span>Waiting for all the threads to complete</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">28:40</span>Waiting for all the threads to complete</div>
                    </div>
                </div>
                <div data-timestamp="1850.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">30:50</span>Suspending and resuming threads</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">30:50</span>Suspending and resuming threads</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">30:50</span>Suspending and resuming threads</div>
                    </div>
                </div>
                <div data-timestamp="2091.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">34:51</span>Semaphores</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">34:51</span>Semaphores</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">34:51</span>Semaphores</div>
                    </div>
                </div>
                <div data-timestamp="2248.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">37:28</span>WaitForSingleObject for suspending</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">37:28</span>WaitForSingleObject for suspending</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">37:28</span>WaitForSingleObject for suspending</div>
                    </div>
                </div>
                <div data-timestamp="2435.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">40:35</span>Creating the semaphore</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">40:35</span>Creating the semaphore</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">40:35</span>Creating the semaphore</div>
                    </div>
                </div>
                <div data-timestamp="2664.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">44:24</span>Problem: Threads never wake up!</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">44:24</span>Problem: Threads never wake up!</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">44:24</span>Problem: Threads never wake up!</div>
                    </div>
                </div>
                <div data-timestamp="2810.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">46:50</span>Waking up by releasing the semaphore</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">46:50</span>Waking up by releasing the semaphore</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">46:50</span>Waking up by releasing the semaphore</div>
                    </div>
                </div>
                <div data-timestamp="3207.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">53:27</span>How we&#39;ll use the semaphore</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">53:27</span>How we&#39;ll use the semaphore</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">53:27</span>How we&#39;ll use the semaphore</div>
                    </div>
                </div>
                <div data-timestamp="3266.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">54:26</span>Testing the semaphore</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">54:26</span>Testing the semaphore</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">54:26</span>Testing the semaphore</div>
                    </div>
                </div>
                <div data-timestamp="3410.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">56:50</span>Work for tomorrow</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">56:50</span>Work for tomorrow</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">56:50</span>Work for tomorrow</div>
                    </div>
                </div>
                <div data-timestamp="3433.000" class="marker cat_nullTopic speech">
                    <div class="cineraContent"><span class="timecode">57:13</span>Q&amp;A<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">57:13</span>Q&amp;A<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">57:13</span>Q&amp;A<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3504.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">58:24</span><span class="author" data-hue="321" data-saturation="92%">d7samurai</span> In the visual studio output window you can right click and deselect some of the stuff<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">58:24</span><span class="author" data-hue="321" data-saturation="92%">d7samurai</span> In the visual studio output window you can right click and deselect some of the stuff<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">58:24</span><span class="author" data-hue="321" data-saturation="92%">d7samurai</span> In the visual studio output window you can right click and deselect some of the stuff<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3536.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">58:56</span><span class="author" data-hue="168" data-saturation="82%">cubercaleb</span> Why does this have to be so complicated??<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">58:56</span><span class="author" data-hue="168" data-saturation="82%">cubercaleb</span> Why does this have to be so complicated??<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">58:56</span><span class="author" data-hue="168" data-saturation="82%">cubercaleb</span> Why does this have to be so complicated??<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3577.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">59:37</span><span class="author" data-hue="32" data-saturation="80%">rc1290</span> Why did you put the memory barrier in a macro when it&#39;s platform-specific code?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">59:37</span><span class="author" data-hue="32" data-saturation="80%">rc1290</span> Why did you put the memory barrier in a macro when it&#39;s platform-specific code?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">59:37</span><span class="author" data-hue="32" data-saturation="80%">rc1290</span> Why did you put the memory barrier in a macro when it&#39;s platform-specific code?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3607.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:00:07</span><span class="author" data-hue="197" data-saturation="87%">robrobby</span> After the sleep, some threads still pushed several strings, leaving out some of the other threads<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:00:07</span><span class="author" data-hue="197" data-saturation="87%">robrobby</span> After the sleep, some threads still pushed several strings, leaving out some of the other threads<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:00:07</span><span class="author" data-hue="197" data-saturation="87%">robrobby</span> After the sleep, some threads still pushed several strings, leaving out some of the other threads<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3656.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:00:56</span><span class="author" data-hue="133" data-saturation="80%">plain_flavored</span> Would Sleep(0) in your spin-lock help anything?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:00:56</span><span class="author" data-hue="133" data-saturation="80%">plain_flavored</span> Would Sleep(0) in your spin-lock help anything?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:00:56</span><span class="author" data-hue="133" data-saturation="80%">plain_flavored</span> Would Sleep(0) in your spin-lock help anything?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3755.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:02:35</span><span class="author" data-hue="253" data-saturation="79%">abnercoimbre</span> IMGUI has been trending. Sorry if you get asked this more than you like to.<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:02:35</span><span class="author" data-hue="253" data-saturation="79%">abnercoimbre</span> IMGUI has been trending. Sorry if you get asked this more than you like to.<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:02:35</span><span class="author" data-hue="253" data-saturation="79%">abnercoimbre</span> IMGUI has been trending. Sorry if you get asked this more than you like to.<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3787.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:03:07</span><span class="author" data-hue="53" data-saturation="77%">goodjerm</span> When you initially started this project, what were the first 5 things you coded and why?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:03:07</span><span class="author" data-hue="53" data-saturation="77%">goodjerm</span> When you initially started this project, what were the first 5 things you coded and why?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:03:07</span><span class="author" data-hue="53" data-saturation="77%">goodjerm</span> When you initially started this project, what were the first 5 things you coded and why?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3802.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:03:22</span><span class="author" data-hue="296" data-saturation="90%">ifingerbangedurcat</span> I missed most of tonight, what does the volatile keyword mean?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:03:22</span><span class="author" data-hue="296" data-saturation="90%">ifingerbangedurcat</span> I missed most of tonight, what does the volatile keyword mean?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:03:22</span><span class="author" data-hue="296" data-saturation="90%">ifingerbangedurcat</span> I missed most of tonight, what does the volatile keyword mean?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3827.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:03:47</span><span class="author" data-hue="350" data-saturation="86%">noxy_key</span> How do you plan to maintain cache line coherency between processors? Can physical CPUs share a cache line?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:03:47</span><span class="author" data-hue="350" data-saturation="86%">noxy_key</span> How do you plan to maintain cache line coherency between processors? Can physical CPUs share a cache line?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:03:47</span><span class="author" data-hue="350" data-saturation="86%">noxy_key</span> How do you plan to maintain cache line coherency between processors? Can physical CPUs share a cache line?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3903.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:05:03</span>Blackboard: MESI and Cache Coherency</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:05:03</span>Blackboard: MESI and Cache Coherency</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:05:03</span>Blackboard: MESI and Cache Coherency</div>
                    </div>
                </div>
                <div data-timestamp="4455.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:14:15</span><span class="author" data-hue="299" data-saturation="77%">gasto5</span> Was volatile added in C99?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:14:15</span><span class="author" data-hue="299" data-saturation="77%">gasto5</span> Was volatile added in C99?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:14:15</span><span class="author" data-hue="299" data-saturation="77%">gasto5</span> Was volatile added in C99?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4477.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:14:37</span><span class="author" data-hue="253" data-saturation="79%">abnercoimbre</span> Wait, so transactional memory wants to simplify concurrent programming by allowing a chunk of load/store instructions to execute in atomically. Have you messed with this?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:14:37</span><span class="author" data-hue="253" data-saturation="79%">abnercoimbre</span> Wait, so transactional memory wants to simplify concurrent programming by allowing a chunk of load/store instructions to execute in atomically. Have you messed with this?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:14:37</span><span class="author" data-hue="253" data-saturation="79%">abnercoimbre</span> Wait, so transactional memory wants to simplify concurrent programming by allowing a chunk of load/store instructions to execute in atomically. Have you messed with this?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4505.000" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:15:05</span>Blackboard: Transactional Memory</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:15:05</span>Blackboard: Transactional Memory</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:15:05</span>Blackboard: Transactional Memory</div>
                    </div>
                </div>
                <div data-timestamp="4738.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:18:58</span><span class="author" data-hue="253" data-saturation="79%">abnercoimbre</span> Transactional memory is often advocated as an easier-to-use replacement for locks that avoids any possibility of a deadlock, so I wanted your thoughts.<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:18:58</span><span class="author" data-hue="253" data-saturation="79%">abnercoimbre</span> Transactional memory is often advocated as an easier-to-use replacement for locks that avoids any possibility of a deadlock, so I wanted your thoughts.<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:18:58</span><span class="author" data-hue="253" data-saturation="79%">abnercoimbre</span> Transactional memory is often advocated as an easier-to-use replacement for locks that avoids any possibility of a deadlock, so I wanted your thoughts.<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4864.000" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:21:04</span><span class="author" data-hue="313" data-saturation="82%">plainflavored</span> Why are we building a generic work distribution when the tiled renderer is designed to cleanly split up the work anyway?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:21:04</span><span class="author" data-hue="313" data-saturation="82%">plainflavored</span> Why are we building a generic work distribution when the tiled renderer is designed to cleanly split up the work anyway?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:21:04</span><span class="author" data-hue="313" data-saturation="82%">plainflavored</span> Why are we building a generic work distribution when the tiled renderer is designed to cleanly split up the work anyway?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4965.000" class="marker cat_nullTopic speech">
                    <div class="cineraContent"><span class="timecode">1:22:45</span>Wrapping things up<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:22:45</span>Wrapping things up<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:22:45</span>Wrapping things up<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    </div>
                </div>
            </div>
                <a class="episodeMarker next" href="https://hero.handmade.network/episode/code/day127/"><div>&#9196;</div><div>Next: 'Aligning Rendering Memory'</div><div>&#9196;</div></a>
            </div>
        </div>
        </div>
    <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_player_post.js?r=285016ab"></script>
        </div>
        <!-- __CINERA_SCRIPT__ -->

        <article id="video-notes">
            <h1>Memory Barriers and Semaphores</h1>
            <p>Semaphores:</p>
            <p>A semaphore is essentially a number that the operating system keeps track of, that can be incremented and decremented.
                When you wait for a semaphore, you&#39;re essentially telling the OS to let you know when the semaphore number becomes
                greater than zero. Once it does, then the Wait() call will return and the thread can do something. Calling
                ReleaseSemaphore(), maybe a little counterintuitively, increments the semaphore, allowing any threads waiting on it to
                continue working. (Thus, it <em>releases</em> those threads to do work). It doesn&#39;t actually change the state of the semaphore
                other than making the number go up. The semaphore number goes down when a thread has successfully Wait()ed for the
                semaphore. In cases like the one demonstrated on stream, this usually means the semaphore number will go up/down really
                fast and stick close to 0 as most of the time the threads are waiting for the semaphore to increment.</p>
            <p>What this allows you to do is tell several threads at once that some work is ready without having to signal to each one
                individually. As long as each one is waiting on the same semaphore object, they&#39;ll all know when there&#39;s more work to be
                done.</p>
        </article>
    </body>
</html>
